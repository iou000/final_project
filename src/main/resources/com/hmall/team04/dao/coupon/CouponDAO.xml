<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace ="com.hmall.team04.dao.coupon.CouponDAO">
	
	<!-- 유저가 가진 쿠폰 수 -->
	<select id = "getCouponCountbyUserId" resultType = "int">
		SELECT 
			count(coupon_id)
			FROM USER_COUPON_DT_T
			WHERE user_id = #{user_id}
	</select>
	
	<select id="selectCouponListByUserId" parameterType="String" resultType = "CouponDTO">
		SELECT
		    u.user_id,
		    c.coupon_id,
		    c.coupon_nm,
		    c.coupon_price,
		    c.coupon_valid_dt,
		    c.coupon_min_price,
		    c.coupon_active
		FROM user_coupon_dt_t u
		JOIN coupon_t c ON u.coupon_id = c.coupon_id
		WHERE user_id = #{user_id}
	</select>
	
	
	
	
	
	
</mapper>